### 第1章 如何用更优的数据存储方案，打造更稳定的架构？

##### 没有“万能”的技术手段，只有适合业务场景的解决方案

1. 存储设计使用不止是CRUD
2. 优秀的存储影响到整个业务项目
3. 大部分的应用场景属于IO密集型场景
4. 瓶颈问题：架构瓶颈往往发生在存储上
5. 应用无状态易扩展，存储有状态难扩展

数据库

1. MySQL
   - 关系型数据库
   - 适合需要ACID事务及数据稳定性要求的场景
2. ElasticSearch
   - 搜索非关系型数据库
   - 适合需要全文搜索或语义关联搜索的场景
3. HBase
   - 列式非关系型数据库
   - 适合大数据量半结构化/非结构化，数据读写且查询维度单一的场景
4. Redis
   - 缓存非关系型数据库
   - 适合需要高性能KV读取且可以容忍数据丢失的场景
5. Neo4j
   - 图非关系型数据库
   - 适合需要实体间构建多维度关联关系的场景
6. MongoDB
   - 文档式非关系型数据库
   - 适合半结构化/非结构化，数据读写且有多维度查询的场景

##### 服务端架构常见的分层方案

1. 网关层：服务接入网络层，一般分为F5，Nginx，LVS等
2. 应用层：具体的应用服务，一般采用单体应用/微服务框架搭建
3. 存储层：中心化的数据管理与落地服务

##### 为什么要做服务端架构分层

1. 面向的问题不同：网关层管网络，应用层管业务，存储层管数据
2. 各司其职：运维与后端开发的分工
3. 灵活性：部署隔离，架构灵活

##### 为什么存储数据库在架构分层中那么重要

1. 有状态服务与无状态服务的巨大行为差异
2. CPU密集型与IO密集型服务的差异
3. 架构设计中的瓶颈与短板效应

##### 数据库存储的瓶颈与短板效应

1. MySQL 单表数据库超百万查询慢，超千万查不动了
2. Redis崩溃后数据没了
3. 多维社交关系表关联太多了查不出来

##### 为什么互联网没有万能的解决方案

1. 算力取舍：空间换时间，时间换空间
2. 一致性取舍：CAP 和BASE 理论
3. 管理模式取舍：中心化及去中心化建设

##### 数据库解决方案不仅仅是CRUD那么简单



### 第2章 社交新零售业务场景的演进与架构方案设计

##### 全局视角看问题，实现全景的技术支撑架构

技术架构拆分

1. 模块拆分
2. 存储选型

##### 高效部署之容器化利器Docker

##### 使用docker解决mysql的高效部署	

Docker Engine 可以配置 Docker 代理

```json
{
	"registry-mirrors": [
		"https://hub-mirror.c.163.com",
    "https://docker.mirrors.ustc.edu.cn",
    "https://registry.docker-cn.com"
	]
}
```

```shell
docker pull docker/getting-started:latest
# 访问 http://localhost:8001/tutorial/
docker run -d -p 8001:80 docker/getting-started
docker pull mysql:latest
docker run -itd --name mysql-social -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 mysql:latest
docker exec -it mysql-social bash
mysql -uroot -p
alter user 'root'@'%' identified with mysql_native_password by '123456';
flush privileges;
```

##### SpringBoot与Mybatis Plus组合

##### Mybatis Plus基础能力搭建用户模块

##### Mybatis Plus进阶，高效的ORM代码实现

乐观锁和悲观锁



### 第3章 发挥Mysql选型优势，构建新零售核心门店与商品能力

##### Mysql选型优劣势

##### Mysql如何提供事务_索引_读写的基础能力

##### Mysql高性能配置-读写能力提升的秘诀

##### 领域驱动设计-领域模型的重要性

##### 发布基石：商家与门店

##### 导购核心：商品-类目-品牌-属性库模型的发布

##### 交易核心：SKU-库存模型的发布

##### 导购流程：搜索与详情浏览
